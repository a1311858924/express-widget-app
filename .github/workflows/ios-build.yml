# ğŸ”§ ä¿®å¤ Setup Flutter å¤±è´¥é—®é¢˜

## ğŸ¯ é—®é¢˜è¯Šæ–­
"Setup Flutter" æ­¥éª¤å¤±è´¥é€šå¸¸æ˜¯ç”±äºï¼š
- Flutterç‰ˆæœ¬æŒ‡å®šé—®é¢˜
- ç½‘ç»œè¿æ¥é—®é¢˜
- GitHub Actionsç¯å¢ƒé—®é¢˜

## ğŸš€ ç«‹å³ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆFlutter
**ä¿®æ”¹å·¥ä½œæµæ–‡ä»¶**ï¼Œä½¿ç”¨æ›´ç¨³å®šçš„é…ç½®ï¼š

```yaml
name: Build iOS IPA

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Setup Flutter
      uses: subosito/flutter-action@v2
      with:
        channel: 'stable'
        
    - name: Verify Flutter installation
      run: flutter --version
      
    - name: Install dependencies
      run: flutter pub get
      
    - name: Build iOS (no codesign)
      run: flutter build ios --release --no-codesign
      
    - name: Create unsigned IPA
      run: |
        cd build/ios/iphoneos
        mkdir -p Payload
        cp -r Runner.app Payload/
        zip -r ExpressWidget-unsigned.ipa Payload/
        
    - name: Upload IPA artifact
      uses: actions/upload-artifact@v4
      with:
        name: ios-ipa-unsigned
        path: build/ios/iphoneos/ExpressWidget-unsigned.ipa
```

### æ–¹æ¡ˆ2ï¼šä½¿ç”¨å®˜æ–¹Flutter Action
**æ›´æ¢ä¸ºå®˜æ–¹æ¨èçš„Flutter Action**ï¼š

```yaml
name: Build iOS IPA

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Setup Flutter SDK
      uses: flutter-actions/setup-flutter@v3
      with:
        channel: stable
        version: latest
        
    - name: Install dependencies
      run: flutter pub get
      
    - name: Build iOS (no codesign)
      run: flutter build ios --release --no-codesign
      
    - name: Create unsigned IPA
      run: |
        cd build/ios/iphoneos
        mkdir -p Payload
        cp -r Runner.app Payload/
        zip -r ExpressWidget-unsigned.ipa Payload/
        
    - name: Upload IPA artifact
      uses: actions/upload-artifact@v4
      with:
        name: ios-ipa-unsigned
        path: build/ios/iphoneos/ExpressWidget-unsigned.ipa
```

### æ–¹æ¡ˆ3ï¼šæœ€ç®€åŒ–ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
**å»æ‰ç‰ˆæœ¬æŒ‡å®šï¼Œè®©GitHubè‡ªåŠ¨é€‰æ‹©**ï¼š

```yaml
name: Build iOS IPA

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Setup Flutter
      uses: subosito/flutter-action@v2
      
    - name: Install dependencies
      run: flutter pub get
      
    - name: Build iOS (no codesign)
      run: flutter build ios --release --no-codesign
      
    - name: Create unsigned IPA
      run: |
        cd build/ios/iphoneos
        mkdir -p Payload
        cp -r Runner.app Payload/
        zip -r ExpressWidget-unsigned.ipa Payload/
        
    - name: Upload IPA artifact
      uses: actions/upload-artifact@v4
      with:
        name: ios-ipa-unsigned
        path: build/ios/iphoneos/ExpressWidget-unsigned.ipa
```

## ğŸ¯ ç«‹å³æ‰§è¡Œä¿®å¤

### æ­¥éª¤1ï¼šæ›´æ–°å·¥ä½œæµæ–‡ä»¶
1. åœ¨ä»“åº“ä¸­æ‰“å¼€ `.github/workflows/ios-build.yml`
2. ç‚¹å‡»ç¼–è¾‘æŒ‰é’®
3. æ›¿æ¢ä¸ºä¸Šé¢çš„"æ–¹æ¡ˆ3"å†…å®¹
4. æäº¤æ›´æ”¹

### æ­¥éª¤2ï¼šæ‰‹åŠ¨è§¦å‘æ„å»º
1. è¿›å…¥Actionsé¡µé¢
2. é€‰æ‹©"Build iOS IPA"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"

## ğŸ” å¦‚æœä»ç„¶å¤±è´¥

**æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯**ï¼š
1. ç‚¹å‡»å¤±è´¥çš„"Setup Flutter"æ­¥éª¤
2. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
3. å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯

**å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ**ï¼š
- ç½‘ç»œè¶…æ—¶ï¼šé‡æ–°è¿è¡Œæ„å»º
- ç‰ˆæœ¬ä¸å…¼å®¹ï¼šä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆ
- æƒé™é—®é¢˜ï¼šæ£€æŸ¥ä»“åº“è®¾ç½®
